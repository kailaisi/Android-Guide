### 计算机网络

### 发展历史

#### 互联网发展历史

* 单个网络
* 三级结构互联网
* 多层次ISP互联网

#### 中国互联网发展简史

* 1980开始互联网实验
* 1989第一个公共网络建立运行
* 1994接入国际互联网

### 计算机网络的层次结构

#### 基本原则

基本原则

* 保证数据同路顺畅
* 识别目的计算机
* 目的计算机状态
* 数据是否错误

分层实现不同的功能

层次结构设计原则：

* 各层之间相互独立
* 每一层有足够的灵活性
* 各层之间完全解耦

#### OSI七层模型

应用层：为计算及用户提供接口和服务

表示层：数据处理（编解码、加密解密等）

会话层：管理（建立、维护、重连）通信会话

传输层：管理端到端的通信连接

网络层：数据的路由

数据链路层：管理相邻节点之间的数据通信

物理层：数据通信的光电物理特性

#### TCP/IP四层模型

应用层（应用层、表示层、会话层）：HTTP/FTP/SMTP/POP3

传输层:TCP/UDP

网络层:IP

网络接口层（数据链路层、物理层）:Etherent /PPP

![image-20200818205506921](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200818205506921.png)

### 现代互联网的网络拓扑

客户端/服务器模式

P2P模式

### 计算机性能指标

网速

#### 时延

发送时延：受限于计算机网卡

传播时延：路径距离/传播速率。受限于传输介质

排队时延：网络设备中等待被处理的时间。

处理时延：到达目的机器被处理所需要的时间

#### 往返时间：RTT

通过ping来查看

### 物理层

#### 作用

* 连接不同的物理设备。
* 传输比特流

##### 介质

双绞线、光纤、同轴电缆、红外线、无线、激光

#### 信道的基本概念

* 信道是往一个方向传送信息的媒体
* 一条通信电路包含一个接收信道，一个发送信道。

单工通道：有线电视、无线电收音机。

半双工：

全双工

#### 分用-复用技术

提升信道的利用效率

![image-20200818212356728](http://cdn.qiniu.kailaisii.com/typora/20200818212402-713920.png)

频分复用、时分复用、波分复用、码分复用。

### 数据链路层

#### 封装成帧

* 帧是数据链路层数据的基本单位
* 发送端在网络层的一段数据前后添加特定的标记形成“帧”
* 接收端根据前后的特定标记识别出“帧”

#### 透明传输

用于处理帧数据中存在着帧首部或者帧尾部的数据

* 存在但是看起来不存在一样。
* 即控制字符在帧数据中，但是要当成不存在去处理

帧数据增加转义字符来进行特殊处理

#### 差错检测

*  物理层只管传输比特流，无法控制是否出错
* 负责“差错检测”工作。

##### 奇偶校验码

在比特流后面增加一个奇偶校验码位。

存在缺陷。

##### 循环冗余校验码CRC

采用模2除法

1. 选定校验的多项式，在数据尾部增加r个0
2. 将添加0之后的数据，使用模2除法除以多项式的位串
3. 得到的余数填充在原r个0位置得到可校验的位串

CRC的错误检测能力跟多项式的阶数有关。

**数据链路层只对数据进行检测，并不进行纠正。纠正操作交给了更上一层来处理**

#### 最大传输单元MTU

##### MTU

数据链路层的数据帧不是无限大的。MTU描述它能够传输的最大值。

过大或者过小都会影响传输的效率。以太网的MTU一般是1500字节。

#### 以太网协议详解

是数据链路层使用的协议。

##### MAC地址

MAC地址是物理地址，每个设备都有唯一的MAC地址，MAC地址有48位，使用16进制表示。

##### 以太网协议

* 以太网是一种广泛使用的局域网技术
* 应用于数据链路层的协议
* 可以完成***相邻设备***的数据传输

对于跨节点的传输，以太网协议是没有办法去进行寻址的，需要网络层来进行处理。

### 网络层

解决数据路由问题，决定数据在网络的路径。

路由器是网络层的重要硬件设备。

#### IP协议

虚拟互联网络的提出：

* 实际的计算机网络错综复杂
* 物理设备使用IP协议，屏蔽了物理网络之间的差异
* 当网络中的主机使用IP协议连接时，无需关注网络细节

##### IP协议

IP协议使得复杂的实际网络变为一个虚拟互联的网络

IP协议使得网络层可以屏蔽底层细节而专注网络层的数据转发

IP解决了在虚拟网络中数据报传输路径的问题。

##### 子网划分

##### 简单路由

#### 其他协议

ARP协议和RARP协议

ICMP协议

#### IP路由算法

路由概述

内部网关路由协议

外部网关路由协议