## 透视HTTP协议

### HTTP是什么？

HTTP协议是     **超文本**      **传输**      **协议**

* ##### **协议**

HTTP是用在计算机世界里的协议。它使用计算机能够理解的语言确立了一种计算机之间交流通信的规范，以及相关的各种控制和错误处理方式。

* ##### **传输**

HTTP是一个在计算机世界里专门用来在两点之间传输数据的协定和规范。

* ##### **超文本**

超文本就是超越了普通的文本的文本，它包含了文字、图片、音频和视频等的混合体。

**所以HTTP就是一个在计算机世界里专门在两点之间传输文字、图片、音频和视频等超文本数据的约定和协议。**

HTTP协议是跑在TCP/IP协议栈之上的，依靠IP协议实现寻址和路由、TCP协议实现可靠地数据传输、DNS协议实现域名查找解析、SSL/TLS协议实现安全的通信机制。

### HTTP相关协议

#### TCP/IP

帮助实现寻址、路由、可靠传输等。

#### DNS

使用IP地址来标识计算机。然后通过有意义的名字作为ip地址的等价替代。从而实现寻址。

#### URI/URL

DNS和IP地址只是标记了互联网上的主机，但是主机上有文本、图片、页面等等。需要使用URI（统一资源标识符）来唯一的标记互联网上的资源。

URL（统一资源定位符），也就是网址。它是URI的一个自己。

#### HTTPS

https其实相当于SSL+HTTP。也就是运行在SSL/TLS协议上的HTTP。这里的HTTP不再是之前所说的的TCP/IP之上的协议了。而是说HTTP运行在SSL协议之上，而SSL协议运行在TCP/IP协议之上。

所以**HTTPS=HTTP+SSL/TSL+TCP/IP**。

代理是 HTTP 传输过程中的“中转站”，可以实现缓存加速、负载均衡等功能。

### HTTP

#### 报文

HTTP的协议基本流程是“请求-应答”“一发一收”的模式，工作模式非常简单，主要是因为TCP/IP协议负责底层的具体传输工作。

HTTP协议报文规定了组成部分，解析规则，处理策略等。可以在TCP/IP层上实现更灵活丰富的功能，例如连接控制、缓存管理、数据编码、内容协商等等。

HTTP协议的请求报文和响应报文由三部分组成

* 起始行：描述请求或响应的基本信息
* 头部字段集合：使用key-value形式更详细的说明报文
* 消息正文：事假传输的数字。

前两部分又成为“**请求头、响应头**”，消息正文又称为**实体（body）**

####  URI

URI：统一资源定位符。用来唯一的表示资源的位置或者名称。

格式：scheme://           host:port    path    ?query

* scheme：协议名称，例如http、ftp、file等
* host:port：主机名+端口号。如果端口号没有的话，浏览器会默认根据scheme使用默认的端口号。
* path：资源所在位置。必须以 /  开始。

##### URI编码

URI只能使用ASCII码。如果使用其他语言的话，会进行对应的转义。

URI转义简单粗暴：直接把非ASCII码或特殊字符转换为16进制字节值，然后前面加上 一个 %。

#### 状态码

这里说的是**状态码**，而不是**错误码**。也就是说它的含义不仅是错误，更重要的在于表达返回的数据处理的状态。客户端可以根据状态适时的进行处理。比如说继续请求、切换协议、重定向等等。

种类：

1XX：提示信息，表示目前是协议处理的中间状态。

2XX：成功，报文接收并被处理

3XX：重定向，资源位值变动，需要重新发送请求

4XX：客户端错误，请求报文有误，服务器无法处理

5XX：服务器错误，服务器在处理请求的时候发生了错误