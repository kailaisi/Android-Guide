### 设计模式

#### 创建型模式

##### 简单工厂

![../_images/SimpleFactory.jpg](https://design-patterns.readthedocs.io/zh_CN/latest/_images/SimpleFactory.jpg)

总结：

* 对实例化进行了抽象，将对象的创建和对象的使用进行了分离
* 简单工厂有三个角色：抽象父类，工厂，具体 产品。
* 简单工厂只需要一个具体的参数就可以返回具体的产品，适合于只有少数产品的创建过程
* 简单工厂的优点在于对象的创建和使用进行了隔离，但是工厂类不够灵活，每次新增产品都需要修改工厂类。

##### 工厂方法

![../_images/FactoryMethod.jpg](https://design-patterns.readthedocs.io/zh_CN/latest/_images/FactoryMethod.jpg)

简单工厂的基础上，将产品的创建交给具体的工厂去实现。所有的工厂都有一个抽象工厂父类。这样需要增加产品的时候，只需要新增工厂和产品即可。无需修改其他的具体工厂和产品。系统的扩展性变得更好，完全符合”开闭原则“。

总结：

* 工厂父类负责创建产品创建的公共接口。
* 工厂方法有四个角色：抽象产品，具体产品，抽象工厂，具体工厂
* 是对简单工厂的进一步抽象和推广。但是在创建新产品时，会同时增加工厂和产品两个类，增加了系统的复杂性。

##### 抽象工厂

![../_images/AbatractFactory.jpg](https://design-patterns.readthedocs.io/zh_CN/latest/_images/AbatractFactory.jpg)



- **产品等级结构** ：产品等级结构即产品的继承结构，如一个抽象类是电视机，其子类有海尔电视机、海信电视机、TCL电视机，则抽象电视机与具体品牌的电视机之间构成了一个产品等级结构，抽象电视机是父类，而具体品牌的电视机是其子类。
- **产品族** ：在抽象工厂模式中，产品族是指由同一个工厂生产的，位于不同产品等级结构中的一组产品，如海尔电器工厂生产的海尔电视机、海尔电冰箱，海尔电视机位于电视机产品等级结构中，海尔电冰箱位于电冰箱产品等级结构中。

工厂方法中，每个工厂只能创建一个产品。但是有时候一个工厂可能需要创建多个产品（不同等级的产品）

总结

* 抽象工厂提供一系列相关或者相互依赖对象的接口，无需指定具体的类。
* 包含四个角色：抽象工厂，用于声明生成抽象接口的方法；具体工厂，实现抽象工厂；抽象产品，为每种产品定义一定的接口；具体的产品
* 抽象工厂是最为抽象的一种形态。工厂方法是针对一个产品等级结构，抽象工厂则对应多个产品等级。

##### 建造者模式

一些复杂对象的创建，用户不需要关心内部的具体构建细节（可能构建细节比较复杂）。

![../_images/Builder.jpg](https://design-patterns.readthedocs.io/zh_CN/latest/_images/Builder.jpg)

角色：

- Builder：抽象建造者
- ConcreteBuilder：具体建造者
- Director：指挥者
- Product：产品角色

总结：

* 将一个复杂对象的创建与表示进行分离。使构建过程可以创建不同的表示。
* 包含四个角色。其中指挥者类隔离了客户和生产，也负责控制产品的生产过程。

##### 单例模式

![../_images/Singleton.jpg](https://design-patterns.readthedocs.io/zh_CN/latest/_images/Singleton.jpg)

#### 结构型模式

结构型模式，描述的是如何将类或者对象结合在一起形成一个更大的结构。